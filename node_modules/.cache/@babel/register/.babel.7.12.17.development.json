{
  "{\"sourceRoot\":\"C:\\\\Users\\\\K300044\\\\projects\\\\mocha-and-chai\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\K300044\\\\projects\\\\mocha-and-chai\",\"filename\":\"C:\\\\Users\\\\K300044\\\\projects\\\\mocha-and-chai\\\\app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\K300044\\\\projects\\\\mocha-and-chai\",\"plugins\":[],\"presets\":[]}:7.12.17": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\K300044\\projects\\mocha-and-chai\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\K300044\\projects\\mocha-and-chai",
      "filename": "C:\\Users\\K300044\\projects\\mocha-and-chai\\app.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\K300044\\projects\\mocha-and-chai",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\K300044\\projects\\mocha-and-chai\\app.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\K300044\\projects\\mocha-and-chai\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\K300044\\projects\\mocha-and-chai\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst bodyParser = require('body-parser');\n\nconst app = express();\nconst port = 3000;\n\nconst MongoClient = require('mongodb').MongoClient;\n\nconst mongoUrl = 'mongodb://127.0.0.1:27017';\nconst db_name = 'userdata';\nconst collection_name = 'userlist';\nlet db;\nMongoClient.connect(mongoUrl, {\n  useNewUrlParser: true\n}, (err, client) => {\n  if (err) throw err;\n  db = client.db(db_name);\n  app.listen(port, () => {\n    console.log('Express API is running on port ' + port);\n  });\n});\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\napp.use(bodyParser.json());\napp.get('/', (req, res) => {\n  res.send('Express API is working ...');\n}); //POST request to add user into db\n\napp.post('/addUser', (req, res) => {\n  if (req.body.name) {\n    // valid name\n    db.collection(collection_name).insertOne(req.body).then(result => {\n      res.send(\"data inserted ...\");\n      console.log(\"result : \", result.ops);\n    }).catch(err => console.error(`Failed to insert item: ${err}`));\n  } else {\n    res.sendStatus(400);\n  }\n}); //GET request to query db by user name\n\napp.get('/getUser/:name', (req, res) => {\n  const name = req.params.name;\n  console.log(\"req.params.name : \", req.params.name);\n  db.collection(collection_name).find({\n    \"name\": name\n  }).toArray((err, result) => {\n    if (err) throw err;\n    if (result.length) res.send(result);else res.sendStatus(404);\n  });\n}); //PUT request to update user data into db\n\napp.put('/updateUser', (req, res) => {\n  if (req.body.name) {\n    // valid name\n    console.log(\"req.body.name : \", req.body.name);\n    db.collection(collection_name).findOneAndUpdate({\n      \"name\": req.body.name\n    }, {\n      $set: {\n        name: req.body.name,\n        city: req.body.city,\n        job: req.body.job\n      }\n    }, {\n      upsert: true\n    }, (err, result) => {\n      if (err) return res.send(err);\n      res.send(result);\n    });\n  } else {\n    res.sendStatus(400);\n  }\n}); //DELETE request to delete user data from db\n\napp.delete('/deleteUser/:name', (req, res) => {\n  const name = req.params.name;\n  console.log(\"req.params.name : \", req.params.name);\n  db.collection(collection_name).findOneAndDelete({\n    \"name\": name\n  }, (err, result) => {\n    if (err) return res.send(500, err);\n    console.log(result);\n    if (result.value) res.send({\n      message: 'deleted ...'\n    });else res.sendStatus(404);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJvZHlQYXJzZXIiLCJhcHAiLCJwb3J0IiwiTW9uZ29DbGllbnQiLCJtb25nb1VybCIsImRiX25hbWUiLCJjb2xsZWN0aW9uX25hbWUiLCJkYiIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJlcnIiLCJjbGllbnQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJwb3N0IiwiYm9keSIsIm5hbWUiLCJjb2xsZWN0aW9uIiwiaW5zZXJ0T25lIiwidGhlbiIsInJlc3VsdCIsIm9wcyIsImNhdGNoIiwiZXJyb3IiLCJzZW5kU3RhdHVzIiwicGFyYW1zIiwiZmluZCIsInRvQXJyYXkiLCJsZW5ndGgiLCJwdXQiLCJmaW5kT25lQW5kVXBkYXRlIiwiJHNldCIsImNpdHkiLCJqb2IiLCJ1cHNlcnQiLCJkZWxldGUiLCJmaW5kT25lQW5kRGVsZXRlIiwidmFsdWUiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBRUEsTUFBTUUsR0FBRyxHQUFHSCxPQUFPLEVBQW5CO0FBQ0EsTUFBTUksSUFBSSxHQUFHLElBQWI7O0FBRUEsTUFBTUMsV0FBVyxHQUFHSixPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CSSxXQUF2Qzs7QUFDQSxNQUFNQyxRQUFRLEdBQUcsMkJBQWpCO0FBQ0EsTUFBTUMsT0FBTyxHQUFHLFVBQWhCO0FBQ0EsTUFBTUMsZUFBZSxHQUFHLFVBQXhCO0FBQ0EsSUFBSUMsRUFBSjtBQUVBSixXQUFXLENBQUNLLE9BQVosQ0FBb0JKLFFBQXBCLEVBQThCO0FBQUVLLEVBQUFBLGVBQWUsRUFBRTtBQUFuQixDQUE5QixF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Q0FBQ0MsSUFBSixDQUFTO0FBQUV5QixNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFULEVBQWxCLEtBQ0sxQixHQUFHLENBQUNZLFVBQUosQ0FBZSxHQUFmO0FBRVIsR0FSRDtBQVNILENBYkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLMzAwMDQ0XFxwcm9qZWN0c1xcbW9jaGEtYW5kLWNoYWlcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpXHJcbmNvbnN0IHBvcnQgPSAzMDAwXHJcblxyXG5jb25zdCBNb25nb0NsaWVudCA9IHJlcXVpcmUoJ21vbmdvZGInKS5Nb25nb0NsaWVudFxyXG5jb25zdCBtb25nb1VybCA9ICdtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3J1xyXG5jb25zdCBkYl9uYW1lID0gJ3VzZXJkYXRhJ1xyXG5jb25zdCBjb2xsZWN0aW9uX25hbWUgPSAndXNlcmxpc3QnXHJcbmxldCBkYlxyXG5cclxuTW9uZ29DbGllbnQuY29ubmVjdChtb25nb1VybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUgfSwgKGVyciwgY2xpZW50KSA9PiB7XHJcbiAgICBpZiAoZXJyKSB0aHJvdyBlcnJcclxuXHJcbiAgICBkYiA9IGNsaWVudC5kYihkYl9uYW1lKVxyXG4gICAgYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0V4cHJlc3MgQVBJIGlzIHJ1bm5pbmcgb24gcG9ydCAnICsgcG9ydClcclxuICAgIH0pXHJcbn0pXHJcblxyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKVxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxyXG5cclxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnNlbmQoJ0V4cHJlc3MgQVBJIGlzIHdvcmtpbmcgLi4uJylcclxufSlcclxuXHJcbi8vUE9TVCByZXF1ZXN0IHRvIGFkZCB1c2VyIGludG8gZGJcclxuYXBwLnBvc3QoJy9hZGRVc2VyJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBpZiAocmVxLmJvZHkubmFtZSkgeyAvLyB2YWxpZCBuYW1lXHJcbiAgICAgICAgZGIuY29sbGVjdGlvbihjb2xsZWN0aW9uX25hbWUpLmluc2VydE9uZShyZXEuYm9keSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgIHJlcy5zZW5kKFwiZGF0YSBpbnNlcnRlZCAuLi5cIilcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0IDogXCIsIHJlc3VsdC5vcHMpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGluc2VydCBpdGVtOiAke2Vycn1gKSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDAwKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbi8vR0VUIHJlcXVlc3QgdG8gcXVlcnkgZGIgYnkgdXNlciBuYW1lXHJcbmFwcC5nZXQoJy9nZXRVc2VyLzpuYW1lJywgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgY29uc3QgbmFtZSA9IHJlcS5wYXJhbXMubmFtZVxyXG4gICAgY29uc29sZS5sb2coXCJyZXEucGFyYW1zLm5hbWUgOiBcIiwgcmVxLnBhcmFtcy5uYW1lKVxyXG5cclxuICAgIGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbl9uYW1lKVxyXG4gICAgICAgIC5maW5kKHsgXCJuYW1lXCI6IG5hbWUgfSkudG9BcnJheSgoZXJyLCByZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSByZXMuc2VuZChyZXN1bHQpXHJcbiAgICAgICAgICAgIGVsc2UgcmVzLnNlbmRTdGF0dXMoNDA0KVxyXG4gICAgICAgIH0pXHJcblxyXG59KVxyXG5cclxuLy9QVVQgcmVxdWVzdCB0byB1cGRhdGUgdXNlciBkYXRhIGludG8gZGJcclxuYXBwLnB1dCgnL3VwZGF0ZVVzZXInLCAocmVxLCByZXMpID0+IHtcclxuICAgIGlmIChyZXEuYm9keS5uYW1lKSB7IC8vIHZhbGlkIG5hbWVcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlcS5ib2R5Lm5hbWUgOiBcIiwgcmVxLmJvZHkubmFtZSlcclxuICAgICAgICBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb25fbmFtZSlcclxuICAgICAgICAgICAgLmZpbmRPbmVBbmRVcGRhdGUoeyBcIm5hbWVcIjogcmVxLmJvZHkubmFtZSB9LCB7XHJcbiAgICAgICAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjaXR5OiByZXEuYm9keS5jaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIGpvYjogcmVxLmJvZHkuam9iXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHVwc2VydDogdHJ1ZVxyXG4gICAgICAgICAgICB9LCAoZXJyLCByZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiByZXMuc2VuZChlcnIpXHJcbiAgICAgICAgICAgICAgICByZXMuc2VuZChyZXN1bHQpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwMClcclxuICAgIH1cclxuXHJcblxyXG59KVxyXG5cclxuLy9ERUxFVEUgcmVxdWVzdCB0byBkZWxldGUgdXNlciBkYXRhIGZyb20gZGJcclxuYXBwLmRlbGV0ZSgnL2RlbGV0ZVVzZXIvOm5hbWUnLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG5hbWUgPSByZXEucGFyYW1zLm5hbWVcclxuICAgIGNvbnNvbGUubG9nKFwicmVxLnBhcmFtcy5uYW1lIDogXCIsIHJlcS5wYXJhbXMubmFtZSlcclxuXHJcbiAgICBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb25fbmFtZSkuZmluZE9uZUFuZERlbGV0ZSh7XHJcbiAgICAgICAgXCJuYW1lXCI6IG5hbWVcclxuICAgIH0sIChlcnIsIHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZXMuc2VuZCg1MDAsIGVycilcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgcmVzLnNlbmQoeyBtZXNzYWdlOiAnZGVsZXRlZCAuLi4nIH0pXHJcbiAgICAgICAgZWxzZSByZXMuc2VuZFN0YXR1cyg0MDQpXHJcblxyXG4gICAgfSlcclxufSkiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "express",
        "require",
        "bodyParser",
        "app",
        "port",
        "MongoClient",
        "mongoUrl",
        "db_name",
        "collection_name",
        "db",
        "connect",
        "useNewUrlParser",
        "err",
        "client",
        "listen",
        "console",
        "log",
        "use",
        "urlencoded",
        "extended",
        "json",
        "get",
        "req",
        "res",
        "send",
        "post",
        "body",
        "name",
        "collection",
        "insertOne",
        "then",
        "result",
        "ops",
        "catch",
        "error",
        "sendStatus",
        "params",
        "find",
        "toArray",
        "length",
        "put",
        "findOneAndUpdate",
        "$set",
        "city",
        "job",
        "upsert",
        "delete",
        "findOneAndDelete",
        "value",
        "message"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\K300044\\projects\\mocha-and-chai\\",
      "sourcesContent": [
        "const express = require('express');\r\nconst bodyParser = require('body-parser');\r\n\r\nconst app = express()\r\nconst port = 3000\r\n\r\nconst MongoClient = require('mongodb').MongoClient\r\nconst mongoUrl = 'mongodb://127.0.0.1:27017'\r\nconst db_name = 'userdata'\r\nconst collection_name = 'userlist'\r\nlet db\r\n\r\nMongoClient.connect(mongoUrl, { useNewUrlParser: true }, (err, client) => {\r\n    if (err) throw err\r\n\r\n    db = client.db(db_name)\r\n    app.listen(port, () => {\r\n        console.log('Express API is running on port ' + port)\r\n    })\r\n})\r\n\r\napp.use(bodyParser.urlencoded({ extended: true }))\r\napp.use(bodyParser.json())\r\n\r\napp.get('/', (req, res) => {\r\n    res.send('Express API is working ...')\r\n})\r\n\r\n//POST request to add user into db\r\napp.post('/addUser', (req, res) => {\r\n    if (req.body.name) { // valid name\r\n        db.collection(collection_name).insertOne(req.body)\r\n            .then(result => {\r\n                res.send(\"data inserted ...\")\r\n                console.log(\"result : \", result.ops)\r\n            })\r\n            .catch(err => console.error(`Failed to insert item: ${err}`))\r\n    } else {\r\n        res.sendStatus(400)\r\n    }\r\n\r\n})\r\n\r\n//GET request to query db by user name\r\napp.get('/getUser/:name', (req, res) => {\r\n\r\n    const name = req.params.name\r\n    console.log(\"req.params.name : \", req.params.name)\r\n\r\n    db.collection(collection_name)\r\n        .find({ \"name\": name }).toArray((err, result) => {\r\n            if (err) throw err\r\n            if (result.length) res.send(result)\r\n            else res.sendStatus(404)\r\n        })\r\n\r\n})\r\n\r\n//PUT request to update user data into db\r\napp.put('/updateUser', (req, res) => {\r\n    if (req.body.name) { // valid name\r\n        console.log(\"req.body.name : \", req.body.name)\r\n        db.collection(collection_name)\r\n            .findOneAndUpdate({ \"name\": req.body.name }, {\r\n                $set: {\r\n                    name: req.body.name,\r\n                    city: req.body.city,\r\n                    job: req.body.job\r\n                }\r\n            }, {\r\n                upsert: true\r\n            }, (err, result) => {\r\n                if (err) return res.send(err)\r\n                res.send(result)\r\n            })\r\n    } else {\r\n        res.sendStatus(400)\r\n    }\r\n\r\n\r\n})\r\n\r\n//DELETE request to delete user data from db\r\napp.delete('/deleteUser/:name', (req, res) => {\r\n    const name = req.params.name\r\n    console.log(\"req.params.name : \", req.params.name)\r\n\r\n    db.collection(collection_name).findOneAndDelete({\r\n        \"name\": name\r\n    }, (err, result) => {\r\n        if (err) return res.send(500, err)\r\n        console.log(result)\r\n        if (result.value) res.send({ message: 'deleted ...' })\r\n        else res.sendStatus(404)\r\n\r\n    })\r\n})"
      ]
    },
    "sourceType": "module",
    "mtime": 1613921343329
  }
}